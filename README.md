# Marathon Frontend

React-based frontend for the Marathon AI-Driven Sales Enablement Tool. This application empowers sales representatives by providing functionalities such as uploading and transcribing sales calls, viewing AI-suggested next steps, synchronizing data with Salesforce, and searching a comprehensive knowledge base.

## Table of Contents

- [Introduction](#introduction)
- [Demo](#demo)
- [Features](#features)
- [Technology Stack](#technology-stack)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Configuration](#configuration)
- [Development](#development)
  - [Running the Development Server](#running-the-development-server)
  - [Building for Production](#building-for-production)
- [Deployment](#deployment)
  - [Deploying to AWS S3 and CloudFront](#deploying-to-aws-s3-and-cloudfront)
- [API Documentation](#api-documentation)
- [Contributing](#contributing)
- [License](#license)
- [Contact](#contact)

## Introduction

Marathon Frontend is the user interface component of the Marathon AI-Driven Sales Enablement Tool. It allows sales representatives to:

- **Authenticate:** Securely log in and manage user sessions.
- **Upload Calls:** Upload audio recordings of sales calls.
- **Transcribe Calls:** Automatically transcribe uploaded audio using AWS Transcribe.
- **View Transcriptions:** Access detailed transcriptions of sales calls.
- **AI-Suggested Next Steps:** Receive actionable next steps generated by OpenAI GPT-4.
- **Synchronize with Salesforce:** Automatically sync transcriptions and next steps with Salesforce Opportunity records.
- **Search Knowledge Base:** Utilize an AI-powered search to retrieve relevant strategies and best practices from the knowledge base.

## Demo

![Dashboard Screenshot](./screenshots/dashboard.png)
*Dashboard displaying recent sales calls and AI-suggested next steps.*

![Upload Call Screenshot](./screenshots/upload_call.png)
*Interface for uploading and managing sales call recordings.*

## Features

- **User Authentication:** Secure sign-up and login using AWS Cognito.
- **Call Management:** Upload, transcribe, and view sales call recordings.
- **AI Integration:** Generate actionable next steps from transcriptions using OpenAI GPT-4.
- **Salesforce Integration:** Seamless synchronization of data with Salesforce CRM.
- **Knowledge Base Search:** Efficiently search through a curated knowledge base using AI-powered search.
- **Responsive Design:** Optimized for both desktop and mobile devices using Tailwind CSS and Shadcn-ui components.
- **Real-Time Updates:** Instant feedback and updates through efficient API integrations.

## Technology Stack

- **Frontend Framework:** React.js
- **Styling:** Tailwind CSS
- **UI Components:** Shadcn-ui
- **State Management:** React Context API
- **Routing:** React Router
- **HTTP Client:** Axios
- **Authentication:** AWS Cognito
- **Deployment:** AWS S3 and CloudFront

## Getting Started

### Prerequisites

Before you begin, ensure you have met the following requirements:

- **Node.js:** Version 14.x or higher
- **npm:** Version 6.x or higher
- **AWS Account:** Access to AWS services like S3 and Cognito
- **Salesforce Account:** Access to Salesforce for API integrations
- **OpenAI API Key:** For AI-generated insights

### Installation

1. **Clone the Repository:**

   ```bash
   git clone https://github.com/your-username/marathon-frontend.git
   cd marathon-frontend

2. **Install Dependencies:**

   ```bash
   npm install
   ```

3. **Set Up Environment Variables:**

Create a `.env` file in the root directory and add the following variables:

```env
# API Configuration
REACT_APP_API_BASE_URL=https://your-backend-api.com/api

# AWS Cognito Configuration
REACT_APP_COGNITO_USER_POOL_ID=your_cognito_user_pool_id
REACT_APP_COGNITO_APP_CLIENT_ID=your_cognito_app_client_id
REACT_APP_COGNITO_REGION=your_cognito_region

# OpenAI Configuration
REACT_APP_OPENAI_API_KEY=your_openai_api_key

# Salesforce Configuration
REACT_APP_SALESFORCE_API_URL=https://your-salesforce-api.com
```

**Note:** Replace the placeholders with your actual configuration values.

### Configuration

#### AWS Cognito

Ensure you have created a User Pool and App Client in AWS Cognito. Update the `.env` file with your Cognito User Pool ID, App Client ID, and AWS region.

#### API Integration

The frontend communicates with the backend via the `REACT_APP_API_BASE_URL`. Ensure the backend API is running and accessible.

#### OpenAI Integration

Obtain your OpenAI API key and set it in the `.env` file.

#### Salesforce Integration

Configure the Salesforce API endpoint and ensure proper authentication mechanisms are in place on the backend.

## Development

### Running the Development Server

To start the development server, run:

```bash
npm start
```

This will launch the application in development mode. Open [http://localhost:3000](http://localhost:3000) to view it in your browser. The page will reload if you make edits. You will also see any lint errors in the console.

### Building for Production

To build the app for production, run:

```bash
npm run build
```

This will create an optimized production build in the `build/` folder. The build is minified, and the filenames include the hashes.

## Deployment

### Deploying to AWS S3 and CloudFront

1. **Build the Project:**

    ```bash
    npm run build
    ```

2. **Configure AWS CLI:**
   Ensure you have the AWS CLI installed and configured with the necessary permissions.

3. **Sync Build with S3 Bucket:**

    ```bash
    aws s3 sync build/ s3://your-s3-bucket-name --delete
    ```

4. **Invalidate CloudFront Cache (if applicable):**

    ```bash
    aws cloudfront create-invalidation --distribution-id YOUR_DISTRIBUTION_ID --paths "/*"
    ```

**Note:** Replace `YOUR_DISTRIBUTION_ID` with your actual CloudFront distribution ID.

## API Documentation

The frontend interacts with the backend via RESTful APIs. Below is a brief overview of the key endpoints:

### Authentication

- `POST /api/auth/signup`: Register a new user.
- `POST /api/auth/login`: Authenticate a user and obtain JWT tokens.

### Sales Calls

- `POST /api/calls/upload`: Upload a new sales call audio file.
- `GET /api/calls`: Retrieve a list of sales calls.
- `GET /api/calls/:id`: Retrieve details of a specific sales call.
- `POST /api/calls/:id/transcribe`: Initiate transcription for a sales call.
- `POST /api/calls/:id/sync`: Sync transcription and next steps to Salesforce.

### Knowledge Base

- `POST /api/knowledge/search`: Search the knowledge base with a query.

For detailed API documentation, refer to the backend repository's API Documentation.

## Contributing

Contributions are welcome! Please follow these steps to contribute:

1. **Fork the Repository**

2. **Create a Feature Branch:**

    ```bash
    git checkout -b feature/YourFeatureName
    ```

3. **Commit Your Changes:**

    ```bash
    git commit -m "Add some feature"
    ```

4. **Push to the Branch:**

    ```bash
    git push origin feature/YourFeatureName
    ```

5. **Open a Pull Request**
   Describe your changes and submit the pull request for review.

## License

This project is licensed under the MIT License.

## Contact

For any questions or support, please contact `dbabs297@gmail.com`.

## React + TypeScript + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type aware lint rules:

- Configure the top-level `parserOptions` property like this:

```js
export default tseslint.config({
  languageOptions: {
    // other options...
    parserOptions: {
      project: ['./tsconfig.node.json', './tsconfig.app.json'],
      tsconfigRootDir: import.meta.dirname,
    },
  },
})
```

- Replace `tseslint.configs.recommended` to `tseslint.configs.recommendedTypeChecked` or `tseslint.configs.strictTypeChecked`
- Optionally add `...tseslint.configs.stylisticTypeChecked`
- Install [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) and update the config:

```js
// eslint.config.js
import react from 'eslint-plugin-react'

export default tseslint.config({
  // Set the react version
  settings: { react: { version: '18.3' } },
  plugins: {
    // Add the react plugin
    react,
  },
  rules: {
    // other rules...
    // Enable its recommended rules
    ...react.configs.recommended.rules,
    ...react.configs['jsx-runtime'].rules,
  },
})
```
